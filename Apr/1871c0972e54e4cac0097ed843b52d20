COLOMBO — Sri Lanka's entire cabinet aside from the president and his sibling prime minister resigned from their posts Sunday as the ruling political clan seeks to resolve a mounting economic crisis, with a social media blackout failing to halt another day of anti-government demonstrations. The South Asian nation is facing severe shortages of food, fuel and other essentials — along with record inflation and crippling power cuts — in its most painful downturn since independence from Britain in 1948. All 26 ministers in the cabinet aside from President Gotabaya Rajapaksa and his elder brother Prime Minister Mahinda Rajapaksa submitted letters of resignation at a late-night meeting, education minister Dinesh Gunawardena told reporters. The move clears the way for the president to appoint a new cabinet on Monday — and some of those stepping down may be reappointed. It came with the country under a state of emergency imposed after a crowd attempted to storm the president's home in the capital Colombo, and a nationwide curfew in effect until Monday morning. Earlier, the Samagi Jana Balawegaya (SJB), Sri Lanka's main opposition alliance, denounced a social media blackout aimed at quelling intensifying public demonstrations and said it was time for the government to resign. "President Rajapaksa better realize that the tide has already turned on his autocratic rule," SJB lawmaker Harsha de Silva told AFP. Troops armed with automatic assault rifles moved to stop a protest by opposition lawmakers and hundreds of their supporters attempting to march to the capital's Independence Square. The road was barricaded a few hundred meters from the home of opposition leader Sajith Premadasa, and the crowd engaged in a tense stand-off with security forces for nearly two hours before dispersing peacefully. Eran Wickramaratne, another SLB lawmaker, condemned the state of emergency declaration and the presence of troops on city streets. "We can't allow a military takeover," he said. "They should know we are still a democracy." Social media blackout Internet service providers were ordered to block access to Facebook, WhatsApp, Twitter and several other social media platforms but the blackout did not deter several small demonstrations elsewhere in Sri Lanka. Police fired tear gas to disperse university students in the central town of Peradeniya, though protests in other parts of the country ended without incident. Private media outlets reported that the chief of Sri Lanka's internet regulator resigned after the ban order went into effect. The blackout was rescinded later in the day after the country's Human Rights Commission ruled that the defense ministry had no power to impose the censorship. The streets of Colombo stayed largely empty on Sunday, apart from the opposition protest and long lines of vehicles queued for fuel. But police told AFP that one man had died by electrocution after climbing a high-tension pylon near Rajapaksa's home. Residents said he was protesting rolling power cuts. Mass protests had been planned for Sunday before the social media blackout went into effect, but organizers have postponed the rallies until after the curfew is lifted on Monday. Internal rifts The escalating protests have led to fissures within the government, with the president's nephew Namal Rajapaksa condemning the partial internet blackout. "I will never condone the blocking of social media," said Namal, the sports minister. He was among three members of the Rajapaksa family who later resigned, along with finance minister Basil and the eldest brother Chamal, who held the agricultural portfolio. A junior party has also hinted it may leave the ruling coalition within a week. The move would not affect the government's survival but threatens its chances of lawfully extending the country's state of emergency ordinance. Western diplomats in Colombo have expressed concern over the use of emergency laws to stifle democratic dissent and said they were closely monitoring developments. Sri Lanka's influential Bar Association has urged the government to rescind the state of emergency, which allows security forces to arrest and detain suspects for long periods without charges. Solidarity protests were staged elsewhere in the world over the weekend, including in the Australian city of Melbourne, home to a large Sri Lankan diaspora. A critical lack of foreign currency has left Sri Lanka struggling to service its ballooning $51-billion foreign debt, with the pandemic torpedoing vital revenue from tourism and remittances. The crisis has also left the import-dependent country unable to pay even for essentials. Diesel shortages have sparked outrage across Sri Lanka in recent days, causing protests at empty pumps, and electricity utilities have imposed 13-hour blackouts to conserve fuel. Many economists also say the crisis has been exacerbated by government mismanagement, years of accumulated borrowing and ill-advised tax cuts. Sri Lanka is negotiating with the International Monetary Fund for a bailout.