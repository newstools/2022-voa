The president of Sri Lanka fled the country early Wednesday, days after protesters stormed his home and office and the official residence of his prime minister amid a three-month economic crisis that triggered severe shortages of food and fuel. President Gotabaya Rajapaksa, his wife and two bodyguards left aboard a Sri Lankan Air Force plane bound for the city of Male, the capital of the Maldives, according to an immigration official who spoke on the condition of anonymity because of the sensitivity of the situation. Rajapaksa had agreed to step down under pressure. Prime Minister Ranil Wickremesinghe said he would leave once a new government was in place. Lawmakers agreed to elect a new president next week but struggled Tuesday to decide on the makeup of a new government to lift the bankrupt country out of economic and political collapse. The promised resignations brought no end to the crisis, and protesters have vowed to occupy the official buildings until the top leaders are gone. For days, people have flocked to the presidential palace almost as if it were a tourist attraction — swimming in the pool, marveling at the paintings and lounging on the beds piled high with pillows. At one point, they also burned the prime minister's private home. While lawmakers agreed late Monday to elect a new president from their ranks on July 20, they have not yet decided who will take over as prime minister and fill the Cabinet. The new president will serve the remainder of Rajapaksa's term, which ends in 2024 — and could potentially appoint a new prime minister, who would then have to be approved by Parliament. The prime minster is to serve as president until a replacement is chosen — an arrangement that is sure to further anger protesters who want Wickremesinghe out immediately. Corruption and mismanagement have left the island nation laden with debt and unable to pay for the import of basic necessities. The shortages have sown despair among the country's 22 million people. Sri Lankans are skipping meals and lining up for hours to try to buy scarce fuel. Until the latest crisis deepened, the Sri Lankan economy had been expanding and growing a comfortable middle class. The political impasse added fuel to the economic crisis since the absence of an alternative unity government threatened to delay a hoped-for bailout from the International Monetary Fund. The government must submit a plan on debt sustainability to the IMF in August before reaching an agreement. In the meantime, the country is relying on aid from neighboring India and from China. Asked whether China was in talks with Sri Lanka about possible loans, a Chinese Foreign Ministry official gave no indication whether such discussions were happening. "China will continue to offer assistance as our capability allows for Sri Lanka's social development and economic recovery," said the spokesman, Wang Wenbin. On Tuesday, Sri Lanka's religious leaders urged protesters to leave the government buildings. The protesters have vowed to wait until both Rajapaksa and Wickremesinghe are out of office. After the storming of the government buildings, "it was clear there is a consensus in the country that the government leadership should change," said Jehan Perera, executive director of the National Peace Council of Sri Lanka, a think tank. Months of demonstrations have all but dismantled the Rajapaksa political dynasty, which has ruled Sri Lanka for most of the past two decades. The protesters accuse the president and his relatives of siphoning money from government coffers for years and Rajapaksa's administration of hastening the country's collapse by mismanaging the economy. The family has denied the corruption allegations, but Rajakpaksa acknowledged some of his policies contributed to the meltdown. The president had not been seen nor heard from since Saturday, though his office issued statements indicating that he continued to carry out his duties.